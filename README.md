# Invoice Management System

A simple, lightweight Django-based invoice management system with user authentication and print-friendly design.

## Project Metadata

**Project Name:** Invoice Management System  
**Framework:** Django 5.2.7  
**Database:** SQLite (lightweight for all environments)  
**Python Version:** 3.11+  
**License:** MIT  
**Created:** October 2025  
**Author:** Generated by GitHub Copilot  

## Features

### Core Functionality
- ✅ **User Authentication**: Secure login/logout system using Django's built-in authentication
- ✅ **Invoice Management**: Create, view, and manage invoices
- ✅ **Client Management**: Store client information with each invoice
- ✅ **Print-Friendly Design**: Clean black and white invoice layout optimized for printing
- ✅ **Responsive Design**: Simple, professional interface that works on all devices
- ✅ **Docker Support**: Fully containerized application with Docker and docker-compose

### Technical Features
- **Database**: Lightweight SQLite database for all environments
- **Security**: CSRF protection, user authorization, secure password handling
- **Static Files**: Proper static file handling for both development and production
- **Deployment Ready**: Lightweight Docker deployment with SQLite

## Architecture

### Project Structure
```
invoice_app/
├── invoice_app/           # Django project settings
│   ├── __init__.py
│   ├── settings.py        # Main configuration file
│   ├── urls.py           # URL routing
│   └── wsgi.py           # WSGI configuration
├── invoices/             # Main application
│   ├── migrations/       # Database migrations
│   ├── __init__.py
│   ├── admin.py         # Admin interface
│   ├── forms.py         # Django forms
│   ├── models.py        # Database models
│   ├── urls.py          # App-specific URLs
│   └── views.py         # View functions
├── templates/           # HTML templates
│   ├── base.html        # Base template
│   ├── registration/    # Authentication templates
│   └── invoices/        # Invoice-specific templates
├── static/              # Static files (CSS, JS, images)
├── staticfiles/         # Collected static files (production)
├── Dockerfile           # Docker configuration
├── docker-compose.yml   # Docker Compose configuration
├── requirements.txt     # Python dependencies
└── manage.py           # Django management script
```

### Database Schema

#### Invoice Model
```python
- user (ForeignKey to User)          # Invoice owner
- client_name (CharField)            # Client name
- client_email (EmailField)          # Client email
- client_address (TextField)         # Client address
- invoice_number (CharField)         # Unique invoice number
- invoice_date (DateField)           # Invoice creation date
- due_date (DateField)              # Payment due date
- description (TextField)            # Service/product description
- quantity (PositiveIntegerField)    # Quantity of items
- unit_price (DecimalField)         # Price per unit
- created_at (DateTimeField)        # Record creation timestamp
- updated_at (DateTimeField)        # Record update timestamp
```

#### Calculated Fields
- `subtotal`: quantity × unit_price
- `tax_amount`: subtotal × 0.1 (10% tax)
- `total`: subtotal + tax_amount

## Installation & Setup

### Local Development

1. **Clone and Setup**
   ```bash
   git clone <repository-url>
   cd django
   python3 -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   pip install -r requirements.txt
   ```

2. **Database Setup**
   ```bash
   python manage.py migrate
   python manage.py createsuperuser
   ```

3. **Run Development Server**
   ```bash
   python manage.py runserver
   ```

4. **Access Application**
   - Main app: http://127.0.0.1:8000/
   - Admin interface: http://127.0.0.1:8000/admin/

### Docker Deployment

1. **Using Docker Compose (Recommended)**
   ```bash
   docker-compose up --build
   ```

2. **Access Application**
   - Main app: http://localhost:8000/

3. **Create Superuser in Docker**
   ```bash
   docker-compose exec web python manage.py createsuperuser
   ```

**Note:** The Docker setup now uses SQLite for a lightweight deployment. The database file is persisted as a volume, so your data will be saved between container restarts.

### Manual Docker Build
```bash
docker build -t invoice-app .
docker run -p 8000:8000 invoice-app
```

## Usage Guide

### User Authentication
1. **Login**: Navigate to `/accounts/login/` or click "Login" in navigation
2. **Logout**: Click "Logout" in navigation when authenticated
3. **Admin Access**: Use Django admin at `/admin/` for user management

### Invoice Management
1. **Create Invoice**: 
   - Login required
   - Click "Create Invoice" or navigate to `/invoices/create/`
   - Fill in client and invoice details
   - System auto-calculates totals with 10% tax

2. **View Invoices**: 
   - Click "My Invoices" to see all your invoices
   - Click individual invoice to view details

3. **Print Invoice**: 
   - From invoice detail page, click "Print Invoice"
   - Optimized for standard 8.5x11" paper
   - Clean black and white design

### Design Philosophy
- **Minimalist**: Clean black and white design for professional appearance
- **Print-Optimized**: Templates designed specifically for printing
- **User-Friendly**: Simple navigation and form interfaces
- **Responsive**: Works on desktop, tablet, and mobile devices

## Configuration

### Environment Variables
```bash
# Django Settings
DEBUG=1                    # Set to 0 for production
SECRET_KEY=your-secret-key
```

### Settings Overview
- **All Environments**: Uses lightweight SQLite database
- **Development**: DEBUG=True, Django development server
- **Production**: DEBUG=False, can be deployed with Docker
- **Static Files**: Collected to `/staticfiles/` for production
- **Authentication**: Django built-in system with custom templates

## Security Features
- CSRF protection on all forms
- User authentication required for invoice operations
- SQL injection protection through Django ORM
- XSS protection through template escaping
- Secure password hashing

## Customization

### Adding New Fields
1. Update `models.py` to add new fields
2. Create and run migrations: `python manage.py makemigrations && python manage.py migrate`
3. Update forms in `forms.py`
4. Modify templates as needed

### Styling Changes
- Main styles are in `templates/base.html` `<style>` section
- Print styles use `@media print` queries
- Color scheme is black and white for professional printing

### Business Logic
- Tax rate is set to 10% in the `Invoice.tax_amount` property
- Invoice numbering is manual (consider auto-generation for production)
- Single-item invoices (extend for multiple line items if needed)

## Dependencies

### Dependencies
```
Django==5.2.7
asgiref==3.9.2
sqlparse==0.5.3
```

### Development Tools
- SQLite (built into Python)
- Django development server
- Django admin interface

## Deployment Notes

### Production Checklist
- [ ] Set `DEBUG=False`
- [ ] Configure proper `SECRET_KEY`
- [ ] Set up PostgreSQL database
- [ ] Configure static file serving (nginx/Apache)
- [ ] Set up SSL/HTTPS
- [ ] Configure proper logging
- [ ] Set up backup strategy

### Scaling Considerations
- Database: SQLite is suitable for small to medium applications
- Static Files: Can be served by web server or CDN
- Application: Can be scaled horizontally with multiple containers
- Caching: Consider Redis for session storage and caching if needed

## Troubleshooting

### Common Issues
1. **Database Connection**: Check DATABASE_URL and credentials
2. **Static Files**: Run `python manage.py collectstatic`
3. **Migrations**: Run `python manage.py migrate` after model changes
4. **Permissions**: Ensure user has permissions to create invoices

### Docker Issues
1. **Build Fails**: Check Dockerfile syntax and base image
2. **Database Connection**: Ensure PostgreSQL service is running
3. **Port Conflicts**: Change port mapping in docker-compose.yml

## Future Enhancements

### Potential Features
- [ ] Multiple line items per invoice
- [ ] PDF generation (using ReportLab or WeasyPrint)
- [ ] Email invoice sending
- [ ] Payment tracking
- [ ] Invoice templates
- [ ] Recurring invoices
- [ ] Client management interface
- [ ] Reporting and analytics
- [ ] API endpoints
- [ ] Multi-currency support

### Technical Improvements
- [ ] Add comprehensive tests
- [ ] Implement caching
- [ ] Add logging
- [ ] API documentation
- [ ] Performance optimization
- [ ] Multi-language support

## Support & Maintenance

### Backup Strategy
- Database: Regular PostgreSQL backups
- Files: Backup entire project directory
- Docker: Use volume backups for persistent data

### Monitoring
- Application logs via Django logging
- Database performance monitoring
- Docker container health checks

### Updates
- Regularly update Django and dependencies
- Monitor security advisories
- Test updates in staging environment

---

**Last Updated:** October 2025  
**Django Version:** 5.2.7  
**Status:** Production Ready  
**Environment:** Dockerized Application